{"version":3,"file":"shadow.js","sources":["source/core.js","source/build.js","source/helpers.js","source/objects/Object.js","source/objects/Element.js","source/objects/Input.js"],"names":["shadow","shadowName","shadowOptions","ReferenceError","extendingName","$","extend","_","casePascal","isTypeOf","Element","is","name","buildAll","Object","defineProperty","writable","value","build","$element","$el","create","$elements","each","this","define","object","item","enumerable","caseCamel","words","newWord","wordChunks","split","map","word","index","length","toLowerCase","toUpperCase","slice","join","caseDash","thing","type","thingType","toString","call","aria","element","attribute","isPlainObject","key","ariaSet","setAttribute","CHECKS","classOf","Instance","Base","getPrototypeOf","instanceOf","prototypeOf","Prototype","undefined","constructed","checkForSuperCall","prototype","property","methodString","variableNameMatch","match","variableName","superRegex","RegExp","IS_DEBUGGING","console","warn","superFun","fn","superWrapper","_super","ret","apply","arguments","options","defineProperties","isBasePropertyFn","debug","TypeError","hasOwnProperty","toLocaleString","isConstructed","names","push","id","attrs","template","$host","jQuery","data","getShadowAttributes","Math","abs","random","Date","attr","attachShadowNodes","defineShadowNodesRelationships","copyShadowAttributes","seal","on","off","elementNode","attributes","forEach","attrName","attrValue","replace","nodeName","html","elementAttrs","shadowAttrs","prop","propAttr","propValue","getNamedItem","JSON","stringify","decorateShadowAttribute","currValue","get","set","event","Event","trigger","isDefaultPrevented","formats","allowMultiple","allowRange","format","formatMultiple","formatRange","$input","input","setupFormattingAttributes","setValueFn","convertAttrToValue","convertValueToAttr","triggerHandler","formatValueUnit","valueUnit","formatsHash","toFormattingArray","chunk","f","formatMultipleUnits","formatRangeUnits","parseValueUnit","parsedHash","convertValueToParsedHash","convertParsedHashToAttr","parse","e","parseMultipleUnits","parseRangeUnits","chunkValue","SyntaxError","formatter","Array","isArray","matchCombo","beforeFirst","beforeMiddle","beforeLast","afterLast","unit","before","after","rangeUnit","matchRange","beforeLower","beforeUpper","afterUpper","subItem","subIndex","subBefore","subAfter","parser","values","addToCollection","string","stringBefore","stringAfter","originalString","sliceUptoUnit","sliceUnit","regStrBeforeFirst","regStrBeforeMiddle","regStrBeforeLast","regStrAfterLast","safety","originalValue","range","originalvalueUnit","regStrBeforeStart","regStrBeforeEnd","regStrAfterEnd","escapeRegString","beforeString","valueMatch","afterString","formattingString","formatsRegex","keys","sort","a","b","reduce","array","lastItem"],"mappings":"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"}